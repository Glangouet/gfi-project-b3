{% trans_default_domain 'FOSUserBundle' %}

{% if error %}
    <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
{% endif %}

<div class="container">
    <div class="col-sm-10 offset-sm-1">
        <form action="{{ path("fos_user_security_check") }}" method="post" name="logForm">
            {% if csrf_token %}
                <input type="hidden" name="_csrf_token" value="{{ csrf_token }}" />
            {% endif %}
            <div class="form-horizontal">
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-envelope fa-2" aria-hidden="true"></i></span>
                        <input id="username" required placeholder="Email" class="form-control" name="_username" ng-model="user.mail" pattern="[\w0-9\.-]*@gfi\.com" ng-class="{'is-invalid': logForm._username.$invalid && logForm._username.$dirty}" 
                        />
                    </div>

                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>
                        <input id="password" required placeholder="Password" class="form-control" name="_password" ng-model="user.password" type="password" ng-class="{'is-invalid': user._password.length === 0}" />
                    </div>
                     <button type="submit" class="btn btn-warning" id="_submit" name="_submit" ng-disabled="logForm.$invalid || logForm.$pristine" >
                        Se connecter
                     </button>
                </div>
            </div>
        </form>
    </div>
</div>