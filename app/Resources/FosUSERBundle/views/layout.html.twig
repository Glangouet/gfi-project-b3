<!DOCTYPE html>
<html >
<head>
    <title>Gfi companion</title>
    
</head>
<body ng-app="gfiApp" >
    <section ng-controller="gfiCtrl">
        
        <div class="container">
            <div class="col-sm-10 offset-sm-1">
                <form name="logForm" class="text-center">
                    <fieldset>
                        <legend>Welcome, please log in</legend>
                        {{ verbatim }}
                        <div class="form-horizontal">
                            <div class="form-group">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-envelope fa-2" aria-hidden="true"></i></span>
                                    <input required placeholder="Email" class="form-control" name="mail" ng-model="user.mail" pattern="[\w0-9\.-]*@gfi\.com" ng-class="{'is-invalid': logForm.mail.$invalid && logForm.mail.$dirty}" ng-required="logForm.pw.$dirty"/>
                                </div>

                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>
                                    <input required placeholder="Password" class="form-control" name="pw" ng-model="user.password" type="password" ng-class="{'is-invalid': user.password.length === 0}" />
                                </div>
                            </div>
                        </div>
                        {{ endverbatim }}
                    </fieldset>
                    <button ng-disabled="logForm.$invalid || logForm.$pristine" ng-click="validationLogIn(user)">Ok</button>
                </form>

                <div>
                    {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                        {{ 'layout.logged_in_as'|trans({'%username%': app.user.username}, 'FOSUserBundle') }} |
                        <a href="{{ path('fos_user_security_logout') }}">
                            {{ 'layout.logout'|trans({}, 'FOSUserBundle') }}
                        </a>
                    {% else %}
                        <a href="{{ path('fos_user_security_login') }}">{{ 'layout.login'|trans({}, 'FOSUserBundle') }}</a>
                    {% endif %}
                </div>

                {% if app.request.hasPreviousSession %}
                    {% for type, messages in app.session.flashbag.all() %}
                        {% for message in messages %}
                            <div class="flash-{{ type }}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endfor %}
                {% endif %}

                <div>
                    {% block fos_user_content %}
                    {% endblock fos_user_content %}
                </div>
            </div>
        </div>
    </section>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" >
    <link rel="stylesheet" href="{{ asset('bundles/gfi/css/site.css') }}" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular-ui-router/1.0.0-rc.1/angular-ui-router.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-resource/1.6.6/angular-resource.js"></script>
    <script src="{{ asset("bundles/gfi/js/gfiFactories.js") }}"></script>
    <script src="{{ asset("bundles/gfi/js/indexController.js") }}"></script>
</body>
</html>